/* === DARK THEME EFFECTS === */
.scan-lines {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1000;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.02) 2px,
    rgba(0, 0, 0, 0.02) 4px
  );
}

.retro-grid {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background-image: 
    linear-gradient(rgba(0, 245, 255, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 245, 255, 0.02) 1px, transparent 1px);
  background-size: 40px 40px;
  mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
}

/* === SCROLLBAR === */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background-color: #2a2a3e; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background-color: #3a3a4e; }

/* Hide number spinners */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

.iconify { display: inline-block; vertical-align: middle; }

/* === TREEMAP === */
.treemap-container {
  position: relative;
  width: 100%;
  min-height: 200px;
  border-radius: 0.75rem;
  overflow: hidden;
  background: linear-gradient(135deg, #0a0a0f 0%, #12121a 100%);
}

.treemap-cell {
  position: absolute;
  box-sizing: border-box;
  overflow: hidden;
  cursor: default;
}
.treemap-cell:hover { z-index: 50; }

.treemap-cell-inner {
  position: absolute;
  inset: 2px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  overflow: hidden;
  transition: transform 0.15s ease-out, box-shadow 0.2s ease;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.treemap-cell:hover .treemap-cell-inner {
  box-shadow: 0 0 25px rgba(0, 245, 255, 0.15);
  transform: scale(1.02);
}

/* Tile entrance animation */
.tile-enter {
  animation: tileGrow 0.3s ease-out forwards;
  opacity: 0;
  transform: scale(0.8);
}

@keyframes tileGrow {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

/* Search dropdown */
#search-dropdown::-webkit-scrollbar { width: 3px; }
#search-dropdown::-webkit-scrollbar-thumb { background-color: #2a2a3e; border-radius: 10px; }

/* Sub list scrollable area */
#sub-list-container::-webkit-scrollbar { width: 3px; }
#sub-list-container::-webkit-scrollbar-thumb { background-color: #2a2a3e; border-radius: 10px; }

/* === LIGHT THEME === */
html:not(.dark) body {
  background: linear-gradient(135deg, #fef7f0 0%, #f0f9ff 50%, #fdf4ff 100%);
  color: #1e293b;
}

html:not(.dark) .scan-lines,
html:not(.dark) .retro-grid { display: none; }

html:not(.dark) .bg-retro-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); }
html:not(.dark) .bg-retro-dark { background: transparent; }
html:not(.dark) .bg-retro-darker { background: #f8fafc; }
html:not(.dark) .border-retro-border { border-color: rgba(0, 0, 0, 0.08); }

html:not(.dark) .text-white { color: #1e293b; }
html:not(.dark) .text-gray-300 { color: #475569; }
html:not(.dark) .text-gray-400 { color: #64748b; }
html:not(.dark) .text-gray-500 { color: #94a3b8; }
html:not(.dark) .text-gray-600 { color: #94a3b8; }

html:not(.dark) .text-neon-cyan { color: #0891b2; }
html:not(.dark) .text-neon-pink { color: #db2777; }
html:not(.dark) .text-neon-purple { color: #7c3aed; }

html:not(.dark) .bg-neon-cyan { background: #06b6d4; }
html:not(.dark) .hover\:text-neon-cyan:hover { color: #0891b2; }
html:not(.dark) .hover\:text-neon-pink:hover { color: #db2777; }
html:not(.dark) .hover\:border-neon-cyan\/50:hover { border-color: rgba(8, 145, 178, 0.5); }

html:not(.dark) .focus\:border-neon-cyan:focus { border-color: #0891b2; }
html:not(.dark) .focus\:ring-neon-cyan\/50:focus { --tw-ring-color: rgba(8, 145, 178, 0.5); }

html:not(.dark) .treemap-container {
  background: linear-gradient(135deg, #fefefe 0%, #f8fafc 100%);
}

html:not(.dark) .treemap-cell-inner {
  border-color: rgba(0, 0, 0, 0.06);
}

html:not(.dark) .treemap-cell:hover .treemap-cell-inner {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

html:not(.dark) #theme-btn {
  background: white;
  border-color: #e2e8f0;
  color: #64748b;
}

html:not(.dark) #theme-btn:hover {
  border-color: #0891b2;
  color: #0891b2;
}

/* Light theme scrollbar */
html:not(.dark) ::-webkit-scrollbar-thumb { background-color: #cbd5e1; }
html:not(.dark) ::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }

/* Sub item hover in light mode */
html:not(.dark) .sub-item {
  background: white;
}

html:not(.dark) .sub-item:hover {
  background: #f8fafc;
}

/* Search dropdown in light mode */
html:not(.dark) #search-dropdown {
  background: white;
  border-color: #e2e8f0;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
}

html:not(.dark) .bg-retro-darker {
  background: #f1f5f9;
}

html:not(.dark) .bg-neon-cyan\/20 {
  background: rgba(6, 182, 212, 0.15);
}

html:not(.dark) .border-l-neon-cyan {
  border-left-color: #06b6d4;
}
